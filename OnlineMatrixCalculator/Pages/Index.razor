@page "/"

<PageTitle>OnlineMatrixCalculator</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraLarge">

    <div class="d-flex flex-column">

        <MudText>Columns:</MudText>
        <MudNumericField Min="0" Max="26" Value="columns" T="int" ValueChanged="(args) => ColumnChange(args)" Variant="Variant.Outlined"></MudNumericField>

        <MudText>Rows:</MudText>
        <MudNumericField Min="0" Max="26" Value="rows" T="int" ValueChanged="(args) => RowChange(args)" Variant="Variant.Outlined"></MudNumericField>

    </div>

    <div class="container d-flex justify-center align-center py-3 pe-0">
        <div style="overflow: scroll;">

            <table style="overflow: scroll;">
                <tr>
                    @for (int j = 0; j < columns; j++)
                    {
                        <th>
                            @letters[j]
                        </th>
                    }
                    <th>
                        Sum
                    </th>
                </tr>
                @for (int rowIndex = 0; rowIndex < rows; rowIndex++)
                {
                    <tr>
                        @for (int columnIndex = 0; columnIndex < totalColumns; columnIndex++)
                        {
                            int columnArrayIndex = columnIndex;
                            int rowArrayIndex = rowIndex;
                            <td>
                                <MudNumericField Value="inputValues[rowArrayIndex, columnArrayIndex]" Style="min-width: 6em;" Min="0" T="double" ValueChanged="(args) => MatrixValue_OnChanged(args, rowArrayIndex, columnArrayIndex)" Variant="Variant.Outlined"></MudNumericField>
                            </td>
                        }
                    </tr>
                }
            </table>

        </div>
    </div>

    <div class="d-flex flex-column">
        <MudButton Size="Size.Large" Variant="Variant.Outlined" OnClick="Button_OnClick">Calculate</MudButton>
        <MudText style="font-size: large; color: red;">@errorMsg</MudText>
    </div>

    <MudText Typo="Typo.h5">Results:</MudText>

    @if (result.Count() != 0)
    {
        for (int x = 0; x < result.Count(); x++)
        {
            int arrayIndex = x;
            <MudText style="font-size: large;">@(letters[arrayIndex] + ": " + result[arrayIndex])</MudText>
        }
    }

</MudContainer>
